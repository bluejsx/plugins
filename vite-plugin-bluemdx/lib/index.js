var p=Object.defineProperty,a=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;var l=(o,r,t)=>r in o?p(o,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[r]=t,u=(o,r)=>{for(var t in r||(r={}))h.call(r,t)&&l(o,t,r[t]);if(i)for(var t of i(r))d.call(r,t)&&l(o,t,r[t]);return o},s=(o,r)=>a(o,g(r));import x from"jsx-transform";import v from"markdown-it";import j from"highlight.js";import{hmrAdder as b}from"@bluejsx/vite-plugin-blue-hmr";var c=/import +(?:[A-z0-9]*,? *)?(?:{ *(?:[A-z0-9]* *,?)* *})? *from *['"`][@A-z0-9\-\/\.?&]*['"`];?/g;function w(o={}){let r,t=new v(s(u({},o),{highlight:function(e,n){return j.highlightAuto(e,[n]).value.replace(/([{}])/g,'{"$&"}').replace(/\n/g,"<br />")},html:!0,xhtmlOut:!0}));return{name:"vite-plugin-bluemdx",configResolved(e){r=e},transform(e,n){if(!n.includes("node_modules")&&/\.mdx$/.test(n)){e=t.render(e);let m="";return e=e.replace(c,f=>(m+=f+";","")),e=`${m}import Blue from 'bluejsx';export default ()=>${x.fromString(`<div>${e}</div>`,{factory:"Blue.r",passUnknownTagsToFactory:!0})}`,r.mode==="development"?b.transform(e,n):e}}}}export{w as default};
